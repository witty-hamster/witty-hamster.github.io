
### 🗺️ 第一阶段：内功修炼——详细周计划（前 4 周）

将这 8 周的前半部分聚焦于 **JVM、并发与数据库**，这三者是架构师谈论一切性能调优的基石。

#### 📅 第一周：JVM 调优与线上排障

- **核心知识点：** G1/ZGC 内存模型、三色标记算法、GC 停顿调优、JIT 即时编译。
    
- **深度学习任务：** 学习如何配置 GC 日志，理解 `Metaspace` 溢出与 `Direct Memory` 溢出的区别。
    
- **🔥 实战 Lab（实战问题）：**
    
    - **场景模拟：** 模拟一个线上服务，由于引入了某个处理大文件的第三方库，导致 `Old Gen` 持续缓慢上升，每隔 4 小时触发一次 Full GC 导致服务短暂不可用。
        
    - **实战要求：** 使用 `jstat` 监控 GC 频率，导出 `Heap Dump` 文件，利用 **MAT (Memory Analyzer)** 找到具体的内存泄漏点，并写出调优后的 JVM 参数方案。
        

#### 📅 第二周：并发编程深水区（JUC 源码级对抗）

- **核心知识点：** AQS 抽象同步队列原理、CAS 的 ABA 问题及解决方案、`LongAdder` 的分段思想、线程池的拒绝策略与参数动态调整。
    
- **深度学习任务：** 读一遍 `ReentrantLock` 和 `ArrayBlockingQueue` 的源码，理解高性能队列是如何避免伪共享（False Sharing）的。
    
- **🔥 实战 Lab（实战项目）：**
    
    - **项目名：** **高性能本地限流器 (High-Perf Rate Limiter)**
        
    - **要求：** 模仿 `Sentinel` 或 `Guava`，不使用第三方库，手写一个支持高并发的“令牌桶”或“滑动窗口”限流器。
        
    - **架构师思考点：** 在极高并发下（比如 10 万级 TPS），如何减少锁竞争？是否可以利用 `ThreadLocal` 或 `Padding` 来提升性能？
        

#### 📅 第三周：MySQL 深度调优与事务原理

- **核心知识点：** B+ Tree 的聚簇索引 vs 非聚簇索引、InnoDB 的 MVCC（多版本并发控制）机制、ReadView 的生成规则、各种锁（间隙锁、临键锁）的加锁范围。
    
- **深度学习任务：** 研究死锁日志，理解为什么“明明有索引却全表扫描”。
    
- **🔥 实战 Lab（实战问题）：**
    
    - **场景模拟：** 有一张 5000 万行的订单表，执行 `SELECT * FROM orders ORDER BY create_time LIMIT 1000000, 10` 变得极慢。
        
    - **实战要求：** 分析深度分页的性能瓶颈，给出至少 3 种优化方案（如：延迟关联、标签记录法等），并用 `EXPLAIN` 证明每种方案的索引命中情况。
        

#### 📅 第四周：Redis 核心原理与架构设计

- **核心知识点：** Redis 单线程模型为什么快（IO 多路复用）、五种基本类型的底层数据结构（ZipList, SkipList, QuickList）、AOF 重写机制。
    
- **深度学习任务：** 深入研究缓存与数据库的双写一致性（延迟双删、监听 Binlog）。
    
- **🔥 实战 Lab（实战项目）：**
    
    - **项目名：** **分布式缓存防击穿实验室**
        
    - **要求：** 搭建一个环境，模拟“热点 Key 失效”瞬间大量请求涌入 DB 的场景。
        
    - **架构师思考点：** 分别实现“互斥锁”方案和“逻辑过期”方案，并对比两者的优缺点（吞吐量 vs 一致性）。
        

---

### 🛠️ “架构师级”学习建议

为了让你不限于一种语言，且能向 AI/大数据迈进，建议在进行上述实验时，开始引入 **辅助工具链**：

1. **引入 Docker 实验室：** 所有的中间件（MySQL, Redis, Kafka）不要直接装在电脑上，全部使用 Docker Compose 部署。这能锻炼你对**容器化架构**的直觉。
    
2. **接触 Python/Go 的契机：**
    
    - 如果你在写压测脚本，**不要用 Java 写**。
        
    - **尝试用 Python 的 `Locust` 库**来写压测脚本。这能让你在不知不觉中掌握 Python 基础，并理解 Python 在自动化和数据处理上的便利。
